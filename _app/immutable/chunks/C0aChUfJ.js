import{b as N,h,a as R,E as m,T as x,U as D,V as F,l as L,W as b,c as Y,d as y,e as q,X as C,s as O,Y as U,p as Z,f as B,Z as H,_ as M,v as P,$ as V,S as W}from"./CutXmRRr.js";function $(s,t,l=!1){h&&R();var i=s,e=null,a=null,r=C,S=l?m:0,d=!1;const g=(c,f=!0)=>{d=!0,v(f,c)};var n=null;function o(){n!==null&&(n.lastChild.remove(),i.before(n),n=null);var c=r?e:a,f=r?a:e;c&&U(c),f&&Z(f,()=>{r?a=null:e=null})}const v=(c,f)=>{if(r===(r=c))return;let p=!1;if(h){const I=x(i)===D;!!r===I&&(i=F(),L(i),b(!1),p=!0)}var T=O(),u=i;if(T&&(n=document.createDocumentFragment(),n.append(u=Y())),r?e??(e=f&&y(()=>f(u))):a??(a=f&&y(()=>f(u))),T){var _=q,k=r?e:a,E=r?a:e;k&&_.skipped_effects.delete(k),E&&_.skipped_effects.add(E),_.add_callback(o)}else o();p&&b(!0)};N(()=>{d=!1,t(g),d||v(null,null)},S),h&&(i=B)}function A(s,t){return s===t||(s==null?void 0:s[W])===t}function j(s={},t,l,i){return H(()=>{var e,a;return M(()=>{e=a,a=[],P(()=>{s!==l(...a)&&(t(s,...a),e&&A(l(...e),s)&&t(null,...e))})}),()=>{V(()=>{a&&A(l(...a),s)&&t(null,...a)})}}),s}export{j as b,$ as i};
