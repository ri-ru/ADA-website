import{b as S,h,a as R,E as m,a9 as x,aa as D,ab as F,l as L,ac as b,c as q,d as g,e as C,ad as O,s as Y,ae as z,p as B,f as H,af as M,ag as P,z as U,ah as X,X as Z}from"./FMC7fSgD.js";function w(s,t,l=!1){h&&R();var i=s,e=null,a=null,r=O,A=l?m:0,d=!1;const I=(c,f=!0)=>{d=!0,p(f,c)};var n=null;function o(){n!==null&&(n.lastChild.remove(),i.before(n),n=null);var c=r?e:a,f=r?a:e;c&&z(c),f&&B(f,()=>{r?a=null:e=null})}const p=(c,f)=>{if(r===(r=c))return;let v=!1;if(h){const N=x(i)===D;!!r===N&&(i=F(),L(i),b(!1),v=!0)}var T=Y(),u=i;if(T&&(n=document.createDocumentFragment(),n.append(u=q())),r?e??(e=f&&g(()=>f(u))):a??(a=f&&g(()=>f(u))),T){var _=C,k=r?e:a,E=r?a:e;k&&_.skipped_effects.delete(k),E&&_.skipped_effects.add(E),_.add_callback(o)}else o();v&&b(!0)};S(()=>{d=!1,t(I),d||p(null,null)},A),h&&(i=H)}function y(s,t){return s===t||(s==null?void 0:s[Z])===t}function G(s={},t,l,i){return M(()=>{var e,a;return P(()=>{e=a,a=[],U(()=>{s!==l(...a)&&(t(s,...a),e&&y(l(...e),s)&&t(null,...e))})}),()=>{X(()=>{a&&y(l(...a),s)&&t(null,...a)})}}),s}export{G as b,w as i};
