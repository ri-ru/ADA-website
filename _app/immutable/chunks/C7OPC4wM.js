import{b as R,h as _,a as m,E as x,T as D,U as F,V as L,l as Y,W as y,c as q,d as A,e as C,X as O,s as U,Y as Z,p as B,f as H,Z as M,_ as P,v as V,$ as W,S as X}from"./Du4z4-WN.js";function g(s,t,l=!1){_&&m();var r=s,e=null,a=null,f=O,p=l?x:0,d=!1;const I=(c,i=!0)=>{d=!0,v(i,c)};var n=null;function o(){n!==null&&(n.lastChild.remove(),r.before(n),n=null);var c=f?e:a,i=f?a:e;c&&Z(c),i&&B(i,()=>{f?a=null:e=null})}const v=(c,i)=>{if(f===(f=c))return;let T=!1;if(_){const N=D(r)===F;!!f===N&&(r=L(),Y(r),y(!1),T=!0)}var k=U(),u=r;if(k&&(n=document.createDocumentFragment(),n.append(u=q())),f?e??(e=i&&A(()=>i(u))):a??(a=i&&A(()=>i(u))),k){var h=C,E=f?e:a,b=f?a:e;E&&h.skipped_effects.delete(E),b&&h.skipped_effects.add(b),h.add_callback(o)}else o();T&&y(!0)};R(()=>{d=!1,t(I),d||v(null,null)},p),_&&(r=H)}function S(s,t){return s===t||(s==null?void 0:s[X])===t}function j(s={},t,l,r){return M(()=>{var e,a;return P(()=>{e=a,a=(r==null?void 0:r())||[],V(()=>{s!==l(...a)&&(t(s,...a),e&&S(l(...e),s)&&t(null,...e))})}),()=>{W(()=>{a&&S(l(...a),s)&&t(null,...a)})}}),s}export{j as b,g as i};
