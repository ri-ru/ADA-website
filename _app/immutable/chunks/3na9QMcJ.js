import{O as N,h as o,a as R,Q as S,ae as O,af as q,ag as Y,s as j,E as A,K as D,R as p,ah as m,ai as B,aj as F,ak as H,al as x,c as C,am as K,an as M,p as P,ao as Q,a5 as U}from"./D-S698n_.js";function w(f,t,c=!1){o&&R();var s=f,e=null,a=null,r=B,u=c?S:0,l=!1;const _=(d,n=!0)=>{l=!0,T(n,d)};var i=null;function k(){i!==null&&(i.lastChild.remove(),s.before(i),i=null);var d=r?e:a,n=r?a:e;d&&H(d),n&&x(n,()=>{r?a=null:e=null})}const T=(d,n)=>{if(r===(r=d))return;let g=!1;if(o){const L=O(s)===q;!!r===L&&(s=Y(),j(s),A(!1),g=!0)}var E=F(),h=s;if(E&&(i=document.createDocumentFragment(),i.append(h=D())),r?e??(e=n&&p(()=>n(h))):a??(a=n&&p(()=>n(h))),E){var v=m,b=r?e:a,y=r?a:e;b&&v.skipped_effects.delete(b),y&&v.skipped_effects.add(y),v.add_callback(k)}else k();g&&A(!0)};N(()=>{l=!1,t(_),l||T(null,null)},u),o&&(s=C)}function z(f,t,c){o&&R();var s=f,e,a,r=null,u=null;function l(){a&&(x(a),a=null),r&&(r.lastChild.remove(),s.before(r),r=null),a=u,u=null}N(()=>{if(e!==(e=t())){var _=F();if(e){var i=s;_&&(r=document.createDocumentFragment(),r.append(i=D()),a&&m.skipped_effects.add(a)),u=p(()=>c(i,e))}_?m.add_callback(l):l()}},S),o&&(s=C)}function I(f,t){return f===t||(f==null?void 0:f[U])===t}function G(f={},t,c,s){return K(()=>{var e,a;return M(()=>{e=a,a=[],P(()=>{f!==c(...a)&&(t(f,...a),e&&I(c(...e),f)&&t(null,...e))})}),()=>{Q(()=>{a&&I(c(...a),f)&&t(null,...a)})}}),f}export{G as b,z as c,w as i};
